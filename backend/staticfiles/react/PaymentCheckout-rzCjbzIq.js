import{r as t,j as r}from"./index-oLRZV56Y.js";import{a as c}from"./index-Br0q4W-C.js";import{a as p}from"./Navbar-Dnyz2665.js";const g=()=>{const[s,i]=t.useState(null),[n,m]=t.useState(null),l=t.useRef(null),o=localStorage.getItem("authToken");return t.useEffect(()=>{const a=localStorage.getItem("selectedPlan");a&&i(JSON.parse(a))},[]),t.useEffect(()=>{if(s&&o){const a={plan_id:s.id,user_token:o};(async()=>{try{const e=await c.post("http://127.0.0.1:8000/payment/api/generate_plan_payment/",a);e.data&&e.data.url?m(e.data.url):console.error("No 'url' returned in the response.")}catch(e){c.isAxiosError(e)&&e.response?console.error("Error Response Data:",e.response.data):console.error("Error Message:",e.message)}})()}},[s,o]),console.log("Payment URL:",n),console.log("Plan:",s),console.log("User Token:",o),console.log("Iframe Ref:",l.current),r.jsxs(r.Fragment,{children:[r.jsx(p,{}),r.jsx("div",{style:{height:"100vh",width:"100%",margin:0,padding:0},children:n&&r.jsx("iframe",{ref:l,src:n,width:"100%",height:"100%",frameBorder:"0",title:"Payment Page",style:{display:"block",border:"none",height:"100%",width:"100%"}})})]})};export{g as default};
