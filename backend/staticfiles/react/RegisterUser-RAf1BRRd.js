import{r as o,j as e}from"./index-oLRZV56Y.js";import{B as v}from"./Button-DiQE_urz.js";import{C as m}from"./Col-D3TImVBo.js";import{a as b,F as s}from"./Form-BQaihP3E.js";import{u as w,c as k,a as S}from"./Navbar-Dnyz2665.js";import{R as C}from"./Row-CT8KO0ps.js";const N=o.createContext(null);N.displayName="InputGroupContext";const h=o.forwardRef(({className:r,bsPrefix:t,as:a="span",...i},l)=>(t=w(t,"input-group-text"),e.jsx(a,{ref:l,className:k(r,t),...i})));h.displayName="InputGroupText";const T=r=>e.jsx(h,{children:e.jsx(b,{type:"checkbox",...r})}),R=r=>e.jsx(h,{children:e.jsx(b,{type:"radio",...r})}),G=o.forwardRef(({bsPrefix:r,size:t,hasValidation:a,className:i,as:l="div",...x},d)=>{r=w(r,"input-group");const c=o.useMemo(()=>({}),[]);return e.jsx(N.Provider,{value:c,children:e.jsx(l,{ref:d,...x,className:k(i,r,t&&`${r}-${t}`,a&&"has-validation")})})});G.displayName="InputGroup";const y=Object.assign(G,{Text:h,Radio:R,Checkbox:T}),L=()=>{const[r,t]=o.useState(!1),[a,i]=o.useState({username:"",full_name:"",email:"",password:""}),[l,x]=o.useState(""),[d,c]=o.useState(null),[F,j]=o.useState(!1),p=n=>{const{name:g,value:u}=n.target;i(f=>({...f,[g]:u}))},I=n=>{x(n.target.value)},P=async n=>{if(n.preventDefault(),n.stopPropagation(),n.currentTarget.checkValidity()===!1||a.password!==l){t(!0);return}try{const u=await fetch("https://0.0.0.0:8000/user/api/user/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(u.ok)j(!0),c(null);else{const f=await u.json();c(f.message||"An error occurred during registration."),j(!1)}}catch{c("Failed to connect to the server."),j(!1)}};return e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"80vh"},children:e.jsx("div",{className:"w-100",style:{maxWidth:"600px",marginTop:"3vh"},children:e.jsxs(s,{noValidate:!0,validated:r,onSubmit:P,children:[e.jsxs(C,{className:"mb-3",children:[e.jsxs(s.Group,{as:m,md:"6",controlId:"validationCustomFullName",children:[e.jsx(s.Label,{children:"Full Name"}),e.jsx(s.Control,{required:!0,type:"text",placeholder:"Full name",name:"full_name",value:a.full_name,onChange:p}),e.jsx(s.Control.Feedback,{children:"Looks good!"})]}),e.jsxs(s.Group,{as:m,md:"6",controlId:"validationCustomEmail",children:[e.jsx(s.Label,{children:"Email"}),e.jsx(s.Control,{required:!0,type:"email",placeholder:"Email",name:"email",value:a.email,onChange:p}),e.jsx(s.Control.Feedback,{children:"Looks good!"})]})]}),e.jsx(C,{className:"mb-3",children:e.jsxs(s.Group,{as:m,md:"12",controlId:"validationCustomUsername",children:[e.jsx(s.Label,{children:"Username"}),e.jsxs(y,{hasValidation:!0,children:[e.jsx(y.Text,{id:"inputGroupPrepend",children:"@"}),e.jsx(s.Control,{required:!0,type:"text",placeholder:"Username",name:"username",value:a.username,onChange:p,"aria-describedby":"inputGroupPrepend"}),e.jsx(s.Control.Feedback,{type:"invalid",children:"Please choose a username."})]})]})}),e.jsxs(C,{className:"mb-3",children:[e.jsxs(s.Group,{as:m,md:"6",controlId:"validationCustomPassword",children:[e.jsx(s.Label,{children:"Password"}),e.jsx(s.Control,{required:!0,type:"password",placeholder:"Password",name:"password",value:a.password,onChange:p}),e.jsx(s.Control.Feedback,{type:"invalid",children:"Please provide a password."})]}),e.jsxs(s.Group,{as:m,md:"6",controlId:"validationCustomConfirmPassword",children:[e.jsx(s.Label,{children:"Confirm Password"}),e.jsx(s.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:l,onChange:I}),e.jsx(s.Control.Feedback,{type:"invalid",children:"Passwords must match."})]})]}),e.jsx(s.Group,{className:"mb-3",children:e.jsx(s.Check,{required:!0,label:"Agree to terms and conditions",feedback:"You must agree before submitting.",feedbackType:"invalid"})}),d&&e.jsx("p",{style:{color:"red"},children:d}),e.jsx(v,{type:"submit",className:"me-2",children:"Submit form"}),e.jsx(v,{href:"/login",variant:"link",children:"Already have an account? Login"}),F&&!d&&e.jsx("p",{style:{color:"green",marginTop:"10px"},children:"Form submitted successfully!"})]})})})},O=()=>e.jsxs("div",{children:[e.jsx(S,{}),e.jsx(L,{})]});export{O as default};
