import{r as f}from"./index-oLRZV56Y.js";import{a as n}from"./index-Br0q4W-C.js";const c="https://0.0.0.0:8000/";class p{static async get(t,a,r){try{return(await n.get(`${c}${t}/api/${a}${r?`${r}`:""}`)).data}catch(e){throw console.error("Error fetching data",e),e}}static async post(t,a,r){console.log("POST request to:",`${c}${t}/api/${a}`),console.log("With data:",r);try{return(await n.post(`${c}${t}/api/${a}`,r)).data}catch(e){throw console.error("Error posting data",e),e}}static async put(t,a,r){try{return(await n.put(`${c}${t}/api/${a}`,r)).data}catch(e){throw console.error("Error updating data",e),e}}static async delete(t,a){try{return(await n.delete(`${c}${t}/api/${a}`)).data}catch(r){throw console.error("Error deleting data",r),r}}static async list(t,a){try{return(await n.get(`${c}${t}/api/${a}`)).data}catch(r){throw console.error("Error fetching list data",r),r}}}const g=({method:s,url:t,app_name:a,id:r,body:e,setData:$,setLoading:i,setError:l})=>{f.useEffect(()=>{r||s==="LIST"?(async()=>{i(!0);try{let o;s==="GET"||s==="LIST"?o=await p.get(a,t,r?Number(r):void 0):s==="POST"?(console.log("body: ",e),o=await p.post(a,t,e)):s==="PUT"?o=await p.put(a,t,e):s==="DELETE"&&(o=await p.delete(a,t)),o!==void 0?$(o):l(`No data returned from ${s} request`)}catch(o){console.error(`Error during ${s} request`,o),l(`Failed to perform ${s} request`)}finally{i(!1)}})():(l("Invalid ID or request method"),i(!1))},[s,t,r,e,$,i,l])};export{g as u};
